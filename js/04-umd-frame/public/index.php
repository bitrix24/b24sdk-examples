<?php declare(strict_types=1);

require_once '../layouts/header.php';
?>
<div class="mt-2xl flex flex-col">
	<div class="mb-md">
		<div class="mb-sm font-b24-secondary text-h4 font-light leading-8 text-base-900">Some actions</div>
		<div class="grid grid-cols-[repeat(auto-fill,minmax(266px,1fr))] gap-y-sm gap-x-xs">
			<a href="./deal_add_v1.php" class="bg-white py-sm2 px-xs2 cursor-pointer rounded-md flex flex-row gap-sm border-2 transition-shadow shadow hover:shadow-lg relative border-white hover:border-primary">
				<div class="rounded-full bg-blue-200 size-14 min-w-14 min-h-14 flex items-center justify-center">
					<svg class="size-10 text-info-text" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.778 12.675c-.122.196-.356.204-.496.02a1 1 0 0 1-.087-.137q-.037-.069-.082-.13c-.273-.37-.478-.624-.685-.881a27 27 0 0 1-.658-.845c-.17-.258-.205-.88.007-1.194s1.862-2.519 2.591-3.47c.73-.95 1.55-1.114 2.211-.72.554.33 1.149.395 1.477.432q.096.01.158.019c.075.012.247.02.45.029.484.022 1.145.052 1.101.164-.042.108-.2.189-.356.269-.073.037-.146.074-.206.114q-.043.026-.091.047a1 1 0 0 0-.076.038c-.291.17-.664.167-1.023.165-.36-.003-1.14-.073-1.728-.38-.575-.3-.915.076-1.157.345l-.018.019c-.243.27-2.344 3.14-2.382 3.194-.037.054-.214.5-.016.806.074.116.176.227.296.356.198.215.443.48.681.899.107.186.191.38.168.6a.6.6 0 0 1-.08.24m14.172-1.746a5 5 0 0 1 2.088.453c.217-.204.407-.406.498-.547.21-.327.137-.462.063-.6l-.033-.066c-.078-.165-1.108-2.172-2.032-3.342l-.118-.15v-.001c-.285-.363-.448-.57-.765-.806-.36-.266-.881-.005-1.083.096-.202.1-.807.37-.87.383s-.247.03-.409.016c-.115-.01-1.18-.187-2.214-.359l-1.178-.195a.5.5 0 0 0-.156-.008c-.322.045-.63.138-.913.297q-.288.165-.569.341l-.271.167-.32.194c-.662.402-1.324.805-2.016 1.157-.228.117-.394.467-.191.737.227.303.504.547.858.693.689.284 1.377.22 2.042-.06.384-.162.759-.344 1.133-.526q.293-.144.59-.283a.17.17 0 0 1 .132.002q.148.082.291.172l.134.082.625.373h.001l.845.506.692.415.572.344.709.425.476.285a5 5 0 0 1 1.39-.195m-4.977 5.662c.077.6.26 1.165.529 1.68q-.463.586-1.224.686a1.7 1.7 0 0 1-1.216-.29c-.298-.202-.403-.28-.398-.347s.389-.69.453-.665a.5.5 0 0 1 .119.08c.056.044.14.11.285.213.54.38 1.282.08 1.476-.512l-.027-.02-.059-.04c-.34-.23-.558-.382-.774-.532a58 58 0 0 0-.813-.557c-.115-.077-.185-.175-.175-.319a.33.33 0 0 1 .228-.305c.12-.047.231-.011.335.059.293.197.46.315.628.432.17.12.337.237.633.437m.292-2.446a5 5 0 0 0-.21.69c-.35-.24-.72-.49-1.145-.777-.16-.109-.226-.245-.19-.398a.338.338 0 0 1 .502-.219q.037.021.071.046l.02.014zm.72-1.273q.213-.275.462-.518l-.623-.421-.113-.076-.61-.412a.32.32 0 0 0-.338-.03c-.257.124-.268.448-.021.614zm-4.18 2.886c.66.081 1.083.774.819 1.36-.052.114-.12.22-.188.326a8 8 0 0 0-.22.36c-.127.21-.253.421-.398.618-.705.867-2.708-.571-3.724-1.446l-.308-.264c-.866-.737-1.532-1.304-1.884-2.244-.094-.25-.088-.495.061-.727l.052-.081q.245-.38.485-.764c.24-.385.795-.545 1.242-.354.242.104.402.254.565.537.22-.196.476-.274.758-.26.211.01.406.084.574.214.337.261.545.708.32 1.243.481-.168.91-.096 1.243.295.335.394.331.822.029 1.274.203-.086.384-.11.573-.087m7.334-3.193h1.698v2.575h2.544v1.697h-2.544v2.577h-1.698v-2.577H15.53V15.14h2.608z" clip-rule="evenodd"/></svg>
				</div>
				<div class="max-w-11/12">
					<div
						class="font-b24-secondary text-black text-h6 leading-4 mb-xs font-semibold line-clamp-2"
					>Add deal by crm.deal.add</div>
					<div class="font-b24-primary text-sm text-base-500 line-clamp-2" >
						<div>Demonstrates how to add a deal by B24Js</div>
					</div>
				</div>
			</a>
			<a href="./deal_add_v2.php" class="bg-white py-sm2 px-xs2 cursor-pointer rounded-md flex flex-row gap-sm border-2 transition-shadow shadow hover:shadow-lg relative border-white hover:border-primary">
				<div class="rounded-full bg-blue-200 size-14 min-w-14 min-h-14 flex items-center justify-center">
					<svg class="size-10 text-info-text" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.778 12.675c-.122.196-.356.204-.496.02a1 1 0 0 1-.087-.137q-.037-.069-.082-.13c-.273-.37-.478-.624-.685-.881a27 27 0 0 1-.658-.845c-.17-.258-.205-.88.007-1.194s1.862-2.519 2.591-3.47c.73-.95 1.55-1.114 2.211-.72.554.33 1.149.395 1.477.432q.096.01.158.019c.075.012.247.02.45.029.484.022 1.145.052 1.101.164-.042.108-.2.189-.356.269-.073.037-.146.074-.206.114q-.043.026-.091.047a1 1 0 0 0-.076.038c-.291.17-.664.167-1.023.165-.36-.003-1.14-.073-1.728-.38-.575-.3-.915.076-1.157.345l-.018.019c-.243.27-2.344 3.14-2.382 3.194-.037.054-.214.5-.016.806.074.116.176.227.296.356.198.215.443.48.681.899.107.186.191.38.168.6a.6.6 0 0 1-.08.24m14.172-1.746a5 5 0 0 1 2.088.453c.217-.204.407-.406.498-.547.21-.327.137-.462.063-.6l-.033-.066c-.078-.165-1.108-2.172-2.032-3.342l-.118-.15v-.001c-.285-.363-.448-.57-.765-.806-.36-.266-.881-.005-1.083.096-.202.1-.807.37-.87.383s-.247.03-.409.016c-.115-.01-1.18-.187-2.214-.359l-1.178-.195a.5.5 0 0 0-.156-.008c-.322.045-.63.138-.913.297q-.288.165-.569.341l-.271.167-.32.194c-.662.402-1.324.805-2.016 1.157-.228.117-.394.467-.191.737.227.303.504.547.858.693.689.284 1.377.22 2.042-.06.384-.162.759-.344 1.133-.526q.293-.144.59-.283a.17.17 0 0 1 .132.002q.148.082.291.172l.134.082.625.373h.001l.845.506.692.415.572.344.709.425.476.285a5 5 0 0 1 1.39-.195m-4.977 5.662c.077.6.26 1.165.529 1.68q-.463.586-1.224.686a1.7 1.7 0 0 1-1.216-.29c-.298-.202-.403-.28-.398-.347s.389-.69.453-.665a.5.5 0 0 1 .119.08c.056.044.14.11.285.213.54.38 1.282.08 1.476-.512l-.027-.02-.059-.04c-.34-.23-.558-.382-.774-.532a58 58 0 0 0-.813-.557c-.115-.077-.185-.175-.175-.319a.33.33 0 0 1 .228-.305c.12-.047.231-.011.335.059.293.197.46.315.628.432.17.12.337.237.633.437m.292-2.446a5 5 0 0 0-.21.69c-.35-.24-.72-.49-1.145-.777-.16-.109-.226-.245-.19-.398a.338.338 0 0 1 .502-.219q.037.021.071.046l.02.014zm.72-1.273q.213-.275.462-.518l-.623-.421-.113-.076-.61-.412a.32.32 0 0 0-.338-.03c-.257.124-.268.448-.021.614zm-4.18 2.886c.66.081 1.083.774.819 1.36-.052.114-.12.22-.188.326a8 8 0 0 0-.22.36c-.127.21-.253.421-.398.618-.705.867-2.708-.571-3.724-1.446l-.308-.264c-.866-.737-1.532-1.304-1.884-2.244-.094-.25-.088-.495.061-.727l.052-.081q.245-.38.485-.764c.24-.385.795-.545 1.242-.354.242.104.402.254.565.537.22-.196.476-.274.758-.26.211.01.406.084.574.214.337.261.545.708.32 1.243.481-.168.91-.096 1.243.295.335.394.331.822.029 1.274.203-.086.384-.11.573-.087m7.334-3.193h1.698v2.575h2.544v1.697h-2.544v2.577h-1.698v-2.577H15.53V15.14h2.608z" clip-rule="evenodd"/></svg>
				</div>
				<div class="max-w-11/12">
					<div
						class="font-b24-secondary text-black text-h6 leading-4 mb-xs font-semibold line-clamp-2"
					>Add deal by crm.item.add</div>
					<div class="font-b24-primary text-sm text-base-500 line-clamp-2" >
						<div>Demonstrates how to add a deal by B24Js</div>
					</div>
				</div>
			</a>
		</div>
	</div>
</div>
<script type="module">
try
{
	const $logger = B24Js.LoggerBrowser.build(
		'local-apps: token-storage-in-file : index',
		true
	);
	
	const $b24 = await B24Js.initializeB24Frame();
	$b24.setLogger(
		B24Js.LoggerBrowser.build('Core')
	);
	
	$logger.warn('B24Frame.init');
	
	const response = await $b24.callMethod('server.time');
	const serverTimeResponse = response.getData().result;
	const serverDateTime = B24Js.Text.toDateTime(serverTimeResponse);
	
	$logger.info(
		`${B24Js.Text.getDateForLog()} serverTime >> `,
		serverDateTime.toFormat('y-MM-dd HH:mm:ss')
	);
}
catch( error )
{
	console.error(error);
}
</script>
<?php require_once '../layouts/footer.php';
